/* Evitar colapso de la columna Nombre */
.productos-card .table thead th:nth-child(2),
.productos-card .table tbody td:nth-child(2) {
  min-width: 120px;
}
.productos-card .table thead th:nth-child(6),
.productos-card .table tbody td:nth-child(6) {
  padding-right: 18px;
}
.productos-card .table thead th:last-child,
.productos-card .table tbody td:last-child {
  padding-right: 32px;
}
/* Productos - Estilos específicos para el panel de administración de productos */

/* Layout principal */
.productos-page.root-apple {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, system-ui;
  background: #fbfbfb;
  color: #111827;
  padding: 20px 26px;
}

/* Forzar que los encabezados de las tablas de Productos usen la misma tipografía que Admin.css */
.productos-card .table thead th, .productos-card .productos-table thead th {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
}
.productos-container {
  padding: 12px;
  max-width: 1200px;
  margin: 0 auto;
}

/* Header con herramientas */
.productos-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  flex-wrap: wrap;
  gap: 10px;
}

.productos-title {
  font-size: 1.75rem;
  font-weight: 600;
  color: #333;
}

/* Tools menu styled like macOS menu */
.productos-tools-container .btn {
  border-radius: 999px;
  padding: 8px 12px;
  font-weight: 600;
  transition: transform 120ms ease, box-shadow 120ms ease, background 120ms ease;
}

.productos-tools-container .btn.btn-success {
  background: linear-gradient(180deg,#34c759,#10a84d);
  color: #fff;
  border: none;
  box-shadow: 0 8px 24px rgba(16,168,77,0.12);
}
.productos-tools-container .btn.btn-success:hover {
  transform: translateY(-1px);
  box-shadow: 0 12px 30px rgba(16,168,77,0.16);
}

.productos-tools-container .btn.btn-secondary {
  background: rgba(0,0,0,0.04);
  border: 1px solid rgba(0,0,0,0.06);
  color: #111827;
}
.productos-tools-container .btn.btn-secondary:hover {
  background: rgba(0,0,0,0.06);
}
.productos-tools-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  background: #fff;
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 8px;
  box-shadow: 0 10px 30px rgba(15,23,42,0.08);
  padding: 8px;
  min-width: 260px;
}
.productos-tools-dropdown .list-group-item { border: none; border-radius: 6px; padding: 10px; }
.productos-tools-dropdown .list-group-item:hover { background: rgba(0,0,0,0.03); }

.productos-tools-dropdown {
  position: relative;
}

.productos-tools-btn {
  background-color: #6f42c1;
  border-color: #6f42c1;
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
}

.productos-tools-btn:hover {
  background-color: #5a2d91;
  border-color: #5a2d91;
}

.productos-tools-menu {
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border: 1px solid #dee2e6;
  border-radius: 0.375rem;
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
  z-index: 1000;
  min-width: 200px;
}

.productos-tools-item {
  padding: 0.5rem 1rem;
  border: none;
  background: none;
  text-align: left;
  width: 100%;
  cursor: pointer;
  transition: background-color 0.15s ease-in-out;
}

.productos-tools-item:hover {
  background-color: #f8f9fa;
}

/* Modales */


.productos-modal-header {
  background-color: #f8f9fa;
  border-bottom: 1px solid #dee2e6;
  padding: 1rem 1.5rem;
}

.productos-modal-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #333;
}

.productos-modal-body {
  padding: 1.5rem;
  max-height: 70vh;
  overflow-y: auto;
}

/* Formularios */
.productos-form-row {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
}

.productos-form-col {
  flex: 1;
}

.productos-form-group {
  margin-bottom: 1rem;
}

.productos-form-label {
  font-weight: 500;
  margin-bottom: 0.5rem;
  display: block;
  color: #333;
}

.productos-form-input {
  width: 100%;
  padding: 0.5rem 0.75rem;
  border: 1px solid #ced4da;
  border-radius: 0.375rem;
  font-size: 0.95rem;
  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

.productos-form-input:focus {
  border-color: #80bdff;
  outline: 0;
  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}

.productos-form-textarea {
  min-height: 80px;
  resize: vertical;
}

.productos-form-select {
  width: 100%;
  padding: 0.5rem 0.75rem;
  border: 1px solid #ced4da;
  border-radius: 0.375rem;
  background-color: #fff;
  font-size: 0.95rem;
}

/* Checkbox groups para sucursales */
.productos-sucursales-group {
  max-height: 200px;
  overflow-y: auto;
  border: 1px solid #e9ecef;
  border-radius: 0.375rem;
  padding: 0.75rem;
  background-color: #f8f9fa;
}

.productos-checkbox-item {
  display: flex;
  align-items: center;
  margin-bottom: 0.5rem;
}

.productos-checkbox {
  margin-right: 0.5rem;
}

.productos-select-all {
  font-weight: 600;
  border-bottom: 1px solid #dee2e6;
  padding-bottom: 0.5rem;
  margin-bottom: 0.75rem;
}

/* Tabla */
.productos-table {
  margin-top: 20px;
}

/* Card wrapper to visually separate the table from the page */
.productos-card {
  background: linear-gradient(180deg,#ffffff,#fcfcfd);
  border-radius: 14px;
  padding: 20px;
  box-shadow: 0 18px 40px rgba(15,23,42,0.06);
  border: 1px solid rgba(15,23,42,0.04);
  overflow: hidden;
}

/* Make table layout predictable so columns keep proportions */
.productos-card .table { table-layout: auto; width: 100%; border-collapse: separate; border-spacing: 0; }
.productos-card { background: linear-gradient(180deg, #ffffff, #fbfcfd); border-radius: 14px; padding: 14px; box-shadow: 0 20px 48px rgba(15,23,42,0.07); }
.productos-card .table th, .productos-card .table td { overflow: hidden; background: transparent; border: none; }

/* Column width hints (first columns) - relaxed to allow the main table to size naturally.
  Keep sensible minimums for compact columns and let the description and sucursal columns
  share remaining space so the table doesn't force an unwanted horizontal scroll. */
.productos-card .table thead th:nth-child(7),
.productos-card .table tbody td:nth-child(7) {
  min-width: 60px;
}
.productos-card .table thead th:nth-child(3),
.productos-card .table tbody td:nth-child(3) { width: 40%; min-width: 160px; }
.productos-card .table thead th:nth-child(4),
.productos-card .table tbody td:nth-child(4) { width: 10%; min-width: 70px; max-width: 120px; }
.productos-card .table thead th:nth-child(5),
.productos-card .table tbody td:nth-child(5) { width: 8%; min-width: 60px; max-width: 100px; }
.productos-card .table thead th:nth-child(6),
.productos-card .table tbody td:nth-child(6) { width: 12%; min-width: 80px; max-width: 140px; }

.productos-card .table tbody tr { transition: background-color 180ms ease; }
.productos-card .table tbody tr:hover { background: rgba(15,23,42,0.035); }

.productos-table th {
  background-color: transparent;
  font-weight: 700;
  border-bottom: none;
  min-width: 60px; 
  color: #4b5563;
}

.productos-table td {
  vertical-align: middle;
  padding: 0.55rem 0.65rem; /* slightly reduced */
  border-top: 1px solid rgba(15,23,42,0.04);
  background: #fff;
}

/* Botones de acción */
.productos-btn-group { display: flex; gap: 0.5rem; }
.productos-btn-edit {
  background: linear-gradient(180deg,#0a84ff,#0060df);
  border: none;
  color: white;
  padding: 6px 10px;
  font-size: 0.875rem;
  border-radius: 999px;
  box-shadow: 0 6px 18px rgba(10,132,255,0.12);
}
.productos-btn-edit:hover { transform: translateY(-1px); }
.productos-btn-delete {
  background: linear-gradient(180deg,#ef4444,#dc2626);
  border: none;
  padding: 6px 10px;
  font-size: 0.875rem;
  color: #fff;
  border-radius: 999px;
  box-shadow: 0 6px 18px rgba(220,53,69,0.12);
}
.productos-btn-delete:hover { transform: translateY(-1px); }
.productos-btn-stock {
  background: linear-gradient(180deg,#14b8a6,#0d9488);
  border: none;
  color: white;
  padding: 6px 10px;
  font-size: 0.875rem;
  border-radius: 999px;
}
.productos-btn-stock:hover { filter: brightness(0.98); }

/* Estados y alertas */
.productos-alert-danger {
  background-color: #f8d7da;
  border-color: #f5c6cb;
  color: #721c24;
  padding: 0.75rem 1.25rem;
  border-radius: 0.375rem;
  margin-bottom: 1rem;
}

.productos-alert-success {
  background-color: #d4edda;
  border-color: #c3e6cb;
  color: #155724;
  padding: 0.75rem 1.25rem;
  border-radius: 0.375rem;
  margin-bottom: 1rem;
}

.productos-field-error {
  color: #dc3545;
  font-size: 0.875rem;
  margin-top: 0.25rem;
}

/* Stock por sucursal */
.productos-stock-item { display:flex; justify-content:space-between; align-items:center; padding:0.6rem 0.75rem; border-bottom:1px solid rgba(15,23,42,0.03); }
.productos-stock-item:last-child { border-bottom: none; }
.productos-stock-name { font-weight: 600; color: #374151; }
.productos-stock-value { font-weight: 700; color: #10b981; background: rgba(16,185,129,0.08); padding: 4px 8px; border-radius: 999px; }
.productos-stock-low { color: #ef4444; background: rgba(239,68,68,0.06); padding: 4px 8px; border-radius: 999px; }

/* Loading states */
.productos-loading {
  text-align: center;
  padding: 2rem;
  color: #6c757d;
}

.productos-loading-spinner {
  display: inline-block;
  width: 2rem;
  height: 2rem;
  border: 0.25rem solid #f3f3f3;
  border-top: 0.25rem solid #007bff;
  border-radius: 50%;
  animation: productos-spin 1s linear infinite;
}

@keyframes productos-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Responsive */
@media (max-width: 768px) {
  .productos-header {
    flex-direction: column;
    align-items: stretch;
  }
  
  .productos-modal-dialog {
    max-width: 95% !important;
    margin: 1rem auto;
  }
  
  .productos-form-row {
    flex-direction: column;
    gap: 0;
  }
  
  .productos-btn-group {
    flex-direction: column;
    gap: 0.25rem;
  }
  
  .productos-table {
    font-size: 0.875rem;
  }
  
  .productos-table th,
  .productos-table td {
    padding: 0.5rem 0.25rem;
  }
}

@media (max-width: 576px) {
  .productos-container {
    padding: 10px;
  }
  
  .productos-title {
    font-size: 1.5rem;
  }
}

/* Reglas con mayor especificidad para evitar overrides accidentales */
.productos-card .table.productos-table.table.table-striped.table-bordered thead th,
.productos-table.table.table-striped.table-bordered thead th {
  background-color: #f8f9fa !important;
  color: #212529 !important;
  padding: 0.75rem 0.9rem !important;
  border-bottom: 2px solid #dee2e6 !important;
  font-weight: 600 !important;
  vertical-align: middle !important;
}

/* Apple-like refined header */
.productos-table-header {
  padding: 8px 14px; /* tighter header padding */
  font-size: 0.82rem;
  text-transform: uppercase;
  letter-spacing: 0.03em;
  font-weight: 700;
  color: #111827;
  background: linear-gradient(180deg,#ffffff 0%, #fbfbfb 100%);
  border-bottom: 1px solid rgba(15,23,42,0.06);
  position: relative;
  text-align: left;
  vertical-align: middle;
  white-space: nowrap; /* avoid the label wrapping and pushing the icon to a new line */
  min-height: 40px;
  line-height: 20px;
}

/* Ensure header label and icon stay on a single centered line
  Keep the th as a table-cell to avoid breaking table layout, and align inner items. */
.productos-table-header { display: table-cell; vertical-align: middle; }
.productos-table-header .header-label { display: inline-flex; align-items: center; gap: 6px; }
.productos-table-header .sort-icon { display: inline-flex; align-items: center; margin-left: 6px; }

/* Force the sort icon to the right inside the header so it never wraps under the label */
.productos-table-header { position: relative; padding-right: 44px; }
.productos-table-header .sort-icon { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); margin-left: 0; }

/* Keep header label readable: allow normal flow and small right padding to avoid overlap */
.productos-table-header .header-label {
  display: inline-block;
  padding-right: 6px;
  white-space: normal;
  overflow: visible;
  text-overflow: unset;
}

/* Specific tweak: Stock column (5th) needs extra room for the sort icon on tighter layouts */
.productos-card .table thead th:nth-child(5) {
  padding-right: 72px; /* give more space for icon */
  min-width: 86px;
.productos-card .table tbody tr { transition: background-color 180ms ease; }
.productos-card .table tbody tr:hover { background: rgba(15,23,42,0.035); }
  padding-right: 18px;
  min-width: 130px;
}
.productos-card .table thead th:nth-child(5) .sort-icon {
  right: 18px;
  font-size: 1rem; /* igualar tamaño al resto de los iconos */
}
.productos-card .table tbody td:nth-child(5) { text-align: center; }

/* Rounded top corners on the header row to match card */
.productos-card .table thead tr th:first-child { border-top-left-radius: 14px; }
.productos-card .table thead tr th:last-child { border-top-right-radius: 14px; }

/* Subtle separators between header cells */
.productos-table-header + .productos-table-header { border-left: 1px solid rgba(15,23,42,0.03); }

/* Sort indicator (visual only) */
.productos-table-header.sortable { cursor: pointer; }
.productos-table-header.sortable::after { display: none; } /* disable old pseudo-element */

/* Header label + icon layout: use inline-flex so label can wrap if necessary but icon stays aligned */
.productos-table-header .header-label {
  display: inline-block;
  vertical-align: middle;
}
.productos-table-header .sort-icon {
  margin-left: 6px;
  font-size: 0.9rem;
  vertical-align: middle;
  color: rgba(17,24,39,0.6);
  margin-right: 6px;
}
.productos-table-header.sorted-desc .sort-icon,
.productos-table-header.sorted-asc .sort-icon {
  color: rgba(17,24,39,0.9);
}

/* hover effect to highlight header cell */
.productos-table-header:hover { background: linear-gradient(180deg,#ffffff,#f7f7f8); }

/* Neutralizar elementos internos que pinten recuadros (badges, spans, icons) */
.productos-table.table thead th .badge,
.productos-table.table thead th .btn,
.productos-table.table thead th span,
.productos-table.table thead th i {
  background: transparent;
  color: inherit;
  box-shadow: none;
  border: none;
  padding: 0;
  margin: 0;
}

/* Botones dentro de celdas: un tamaño consistente y separación */
.productos-actions-container .btn,
.productos-table .btn {
  padding: 6px 10px;
  font-size: 0.85rem;
  min-width: 72px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Make primary action buttons more prominent and rounded */
.productos-actions-container .btn-primary, .productos-btn-edit {
  background: linear-gradient(180deg,#0a84ff,#0060df);
  color: #fff;
  border-radius: 999px;
  box-shadow: 0 8px 20px rgba(10,132,255,0.12);
}
.productos-actions-container .btn-danger, .productos-btn-delete {
  background: linear-gradient(180deg,#ef4444,#dc2626);
  color: #fff;
  border-radius: 999px;
  box-shadow: 0 8px 20px rgba(220,53,69,0.08);
}

.productos-actions-container .btn .bi { margin-right: 6px; }

/* Evitar que celdas con botones queden muy angostas */
.productos-table td .productos-actions-container { white-space: nowrap; }

/* Forzar wrapping y max-height en la descripción, y asegurar encabezado legible */
.productos-descripcion-cell { max-width: 320px; padding: 0.6rem 0.75rem; }
.productos-descripcion-text {
  word-break: break-word;
  display: -webkit-box;
  -webkit-line-clamp: 3; /* show up to 3 lines */
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 1.35rem;
  max-height: calc(1.35rem * 3);
}

/* Make action buttons visually lighter and consistent */
.productos-actions-container .btn-primary { background: linear-gradient(180deg,#0a84ff,#0060df); border: none; color: #fff; }
.productos-actions-container .btn-danger { background: #ef4444; border: none; color: #fff; }
.productos-actions-container .btn-primary:hover { filter: brightness(0.95); }
.productos-actions-container .btn-danger:hover { filter: brightness(0.95); }

/* Tooltip for description: show on hover as a subtle card */
.productos-descripcion-text[title] {
  position: relative;
  cursor: help;
}
.productos-descripcion-text[title]:hover::after {
  content: attr(title);
  position: absolute;
  left: 0;
  top: 100%;
  min-width: 220px;
  max-width: 420px;
  background: #111827;
  color: #fff;
  padding: 8px 10px;
  border-radius: 8px;
  box-shadow: 0 8px 20px rgba(15,23,42,0.18);
  white-space: normal;
  z-index: 9999;
  margin-top: 8px;
  font-size: 0.9rem;
  line-height: 1.3;
  text-align: left;
}

/* Pagination controls styling */
.productos-pagination { display:flex; align-items:center; justify-content:space-between; gap:8px; margin-top:10px; }
.productos-pagination .btn { padding:6px 10px; border-radius:10px; box-shadow: 0 6px 18px rgba(15,23,42,0.04); }
.productos-pagination .form-select-sm { height:36px; border-radius:10px; }

/* Badge visual polish */
.productos-actions-container .badge, .badge {
  background: rgba(240,240,245,0.9) !important;
  color: #0f172a !important;
  border: 1px solid rgba(15,23,42,0.04) !important;
}

/* Stock grid tables (sucursales) - apply similar apple-like style */
.productos-stock-grid .table { border: 1px solid rgba(15,23,42,0.04); border-radius: 12px; overflow: hidden; box-shadow: 0 20px 48px rgba(15,23,42,0.06); background: linear-gradient(180deg,#ffffff,#fbfcfd); }
.productos-stock-grid .table thead th { background: linear-gradient(180deg,#ffffff,#f3f6f9) !important; color: #0f172a !important; font-weight: 700; padding: 0.75rem 0.9rem !important; border: none !important; }
.productos-stock-grid .table tbody td { padding: 0.7rem 0.85rem; vertical-align: middle; }

/* Make badges more Apple-like */
.productos-actions-container .badge, .badge { border-radius: 999px; padding: 0.25rem 0.6rem; font-size: 0.78rem; }

/* Ensure sticky header has subtle glass effect */
.productos-card .table-responsive thead tr { backdrop-filter: blur(4px); }

/* Separación entre tablas de stock por sucursal */
.productos-stock-grid > div { margin-top: 1.25rem; padding-top: 0.5rem; }
.productos-stock-grid .table { margin-bottom: 1rem; }

/* Strong overrides for bootstrap small/bordered tables inside stock grid */
.productos-stock-grid .table.table-sm.table-bordered,
.productos-stock-grid .table.table-sm.table-bordered tbody,
.productos-stock-grid .table.table-sm.table-bordered thead {
  border: 1px solid rgba(15,23,42,0.04);
  box-shadow: 0 18px 40px rgba(15,23,42,0.06);
  border-radius: 12px;
  overflow: hidden;
}

.productos-stock-grid .table.table-sm.table-bordered thead th {
  background: linear-gradient(180deg,#ffffff,#f3f6f9) !important;
  color: #0f172a !important;
  font-weight: 700 !important;
  padding: 0.75rem 0.9rem !important;
  border: none !important;
}

.productos-stock-grid .table.table-sm.table-bordered tbody td {
  padding: 0.7rem 0.9rem !important;
  background: #fff !important;
  border-top: 1px solid rgba(15,23,42,0.04) !important;
  vertical-align: middle !important;
  color: #374151 !important;
}

/* Final unification: force identical micro-details between main table and stock tables */
.productos-card .table {
  border-radius: 14px !important;
  overflow: hidden !important;
  background: linear-gradient(180deg,#ffffff,#fbfcfd) !important;
  box-shadow: 0 20px 48px rgba(15,23,42,0.06) !important;
  border: 1px solid rgba(15,23,42,0.04) !important;
  /* allow the browser to calculate column widths naturally for the main table */
  table-layout: auto !important;
  width: 100% !important;
  min-width: 0 !important;
}
.productos-stock-grid .table, .productos-stock-grid .table.table-sm.table-bordered {
  border-radius: 14px !important;
  overflow: hidden !important;
  background: linear-gradient(180deg,#ffffff,#fbfcfd) !important;
  box-shadow: 0 20px 48px rgba(15,23,42,0.06) !important;
  border: 1px solid rgba(15,23,42,0.04) !important;
  /* keep fixed layout for small stock-grid tables so their compact columns remain stable */
  table-layout: fixed !important;
}

/* Header micro-styling identical */
.productos-card .table thead th, .productos-stock-grid .table thead th {
  padding: 1rem 1.05rem !important;
  font-weight: 700 !important;
  color: #0f172a !important;
  text-transform: uppercase !important;
  letter-spacing: 0.03em !important;
  background: linear-gradient(180deg,#ffffff,#f3f6f9) !important;
  border-bottom: 1px solid rgba(15,23,42,0.06) !important;
}

/* Correct typo fallback: set explicit font-size in standard number */
.productos-card .table thead th, .productos-stock-grid .table thead th { font-size: 0.95rem !important; }

/* Rounded corners for header cells (first/last) to match card */
.productos-card .table thead tr th:first-child,
.productos-stock-grid .table thead tr th:first-child {
  border-top-left-radius: 14px !important;
}
.productos-card .table thead tr th:last-child,
.productos-stock-grid .table thead tr th:last-child {
  border-top-right-radius: 14px !important;
}

/* Ensure the sticky header uses same glass effect and doesn't force dark background */
.productos-card .table thead[style], .productos-stock-grid .table thead[style],
.productos-card .table thead, .productos-stock-grid .table thead { backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); }

/* Footer/pagination area consistent look */
.productos-card .productos-pagination, .productos-stock-grid .productos-pagination { background: transparent; padding-top: 10px; }


.productos-stock-grid .table.table-sm.table-bordered tbody tr:hover {
  background: rgba(15,23,42,0.02) !important;
  transform: none !important; /* keep small tables stable */
}

/* Ensure badges and actions inside these small tables match the apple style */
.productos-stock-grid .table.table-sm.table-bordered .badge {
  border-radius: 999px !important;
  padding: 0.25rem 0.6rem !important;
  font-size: 0.78rem !important;
}

/* Ensure th text is not wrapped and the layout remains compact */
.productos-stock-grid .table.table-sm.table-bordered thead th { white-space: nowrap !important; }

/* Asegurar que la tabla principal permita scroll local cuando haya muchas columnas */
.productos-table-wrapper .table-responsive { overflow-x: auto !important; -webkit-overflow-scrolling: touch; }
.productos-table-wrapper .table { table-layout: auto !important; min-width: 100%; }

/* Si hay reglas globales que fijan color de fondo oscuro en thead, sobreescribirlas */
.productos-table thead.table-dark, .productos-table thead.table-dark th {
  background-color: #f8f9fa !important;
  color: #212529 !important;
}

/* Estilos para el modal "inline" usado en Agregar Producto */
.productos-inline-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(10,10,10,0.18);
  backdrop-filter: blur(5px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 18px;
  z-index: 9999;
  overflow-y: auto;
}

.productos-inline-modal-wrapper {
  max-width: 680px;
  width: 100%;
  border-radius: 14px;
  box-shadow: 0 18px 40px rgba(15,23,42,0.08);
  overflow: hidden;
}

.productos-inline-modal-content {
  background-color: #ffffff;
  padding: 18px 20px;
  border-radius: 12px;
  max-height: 86vh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* Quitar scrollbar visual pero mantener funcionalidad */
.productos-inline-modal-content::-webkit-scrollbar { width: 8px; }
.productos-inline-modal-content::-webkit-scrollbar-track { background: transparent; }
.productos-inline-modal-content::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius: 8px; }
/* navegador moderno: ocultar visualmente en situaciones donde no se quiere ver */
.productos-inline-modal-content.hide-scrollbar {
  scrollbar-width: none; /* firefox */
  -ms-overflow-style: none;  /* IE 10+ */
}
.productos-inline-modal-content.hide-scrollbar::-webkit-scrollbar { display: none; }

/* Botones compactos dentro del modal */
.productos-inline-btn-primary {
  padding: 8px 12px;
  border-radius: 999px;
  background: linear-gradient(180deg,#34c759,#10a84d);
  color: #fff;
  font-weight: 700;
  border: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 10px 26px rgba(16,168,77,0.12);
}
.productos-inline-btn-primary:disabled { opacity: 0.8; cursor: not-allowed; }
.productos-inline-btn-secondary {
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(0,0,0,0.04);
  color: #111827;
  border: 1px solid rgba(0,0,0,0.06);
  font-weight: 600;
}

/* Mejoras de layout internas: reducir espaciados excesivos */
.productos-inline-modal-content .form-label { margin-bottom: 6px; font-size: 0.95rem; }
.productos-inline-modal-content input[type="text"],
.productos-inline-modal-content input[type="number"],
.productos-inline-modal-content textarea { font-size: 14px; }

@media (max-width: 576px) {
  .productos-inline-modal-wrapper { max-width: 95%; }
  .productos-inline-modal-content { padding: 16px; }
}

/* ---------------------------------------------
   Ajustes: cuadro de filtros — separación y compacto
   - Separar visualmente el panel de filtros de los botones
   - Reducir padding y alturas para hacerlo más compacto
   - Ajustes responsivos menores
   --------------------------------------------- */

/* Si el header (botones) tiene su propio contenedor, aumentar espacio arriba del panel */
.productos-header-container + .productos-filtros-container {
  margin-top: 14px; /* separa del bloque de botones */
}

.productos-filtros-container {
  margin-top: 8px;
  margin-bottom: 8px;
}

/* Hacer el cuadro de filtros más estrecho y centrado en pantallas grandes */
.productos-filtros-container {
  display: flex;
  justify-content: center;
}

.productos-filtros-container .card {
  width: 100%;
  max-width: 820px; /* ancho máximo del panel de filtros */
}

.productos-filtros-container .card {
  border-radius: 0.5rem;
}

.productos-filtros-container .card-body {
  padding: 0.5rem 0.75rem; /* más compacto */
}

.productos-filtros-container .card-title {
  font-size: 0.95rem;
  margin-bottom: 0.5rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.productos-filtros-container .row.g-3 {
  row-gap: 0.5rem;
  column-gap: 0.5rem;
}

.productos-filtros-container .form-label {
  font-size: 0.85rem;
  margin-bottom: 0.25rem;
}

.productos-filtros-container .form-control {
  padding: 0.375rem 0.5rem; /* inputs más compactos */
  font-size: 0.92rem;
  height: auto;
}

.productos-filtros-container .input-group-text {
  padding: 0.375rem 0.5rem;
  font-size: 0.92rem;
}

.productos-filtros-container .input-group .btn {
  padding: 0.25rem 0.5rem;
  font-size: 0.88rem;
}

.productos-filtros-container .mt-2 {
  margin-top: 0.25rem;
}

@media (max-width: 768px) {
  .productos-filtros-container .card-body { padding: 0.5rem; }
  .productos-filtros-container .form-control { padding: 0.35rem 0.45rem; font-size: 0.9rem; }
}

@media (min-width: 1200px) {
  /* aún más compacto en pantallas muy grandes */
  .productos-filtros-container .card { max-width: 720px; }
}

/* Shared Apple-like table class for consistent styling across main and stock tables */
.apple-table { width: 100%; border-collapse: separate; border-spacing: 0; border-radius: 10px; overflow: hidden; }
.apple-table thead th {
  background: linear-gradient(180deg,#ffffff,#f3f6f9) !important;
  color: #0f172a !important;
  font-weight: 700 !important;
  padding: 1rem 1.1rem !important;
  border-bottom: none !important;
  text-transform: uppercase !important;
  letter-spacing: 0.04em !important;
  font-size: 0.78rem !important;
  box-shadow: 0 4px 12px rgba(15,23,42,0.04) inset;
}
.apple-table thead th:first-child { border-left: none !important; }
.apple-table tbody td {
  background: #fff !important;
  padding: 0.85rem 1rem !important;
  border-top: 1px solid rgba(15,23,42,0.04) !important; /* subtle divider */
  vertical-align: middle !important;
  color: #374151 !important;
}
.apple-table tbody tr:hover { background: rgba(15,23,42,0.035) !important; }
.apple-table .header-label { font-weight: 700; color: inherit; }
.apple-table thead th, .apple-table tbody td { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, system-ui !important; font-size: 0.95rem !important; }
.apple-table .sort-icon { color: rgba(17,24,39,0.6); }
.productos-table-header .sort-icon { font-size: 1rem !important; color: rgba(17,24,39,0.75) !important; }
.productos-table-header.sorted-desc .sort-icon, .productos-table-header.sorted-asc .sort-icon { color: rgba(17,24,39,1) !important; }
.apple-table .badge { border-radius: 999px; }

/* Remove bootstrap striped visual interference when apple-table is applied */
.apple-table.table-striped tbody tr:nth-of-type(odd) { background-color: #fff !important; }
.apple-table.table-bordered thead th { border-right: none !important; }

/* When using apple-table, neutralize Bootstrap's .table-bordered heavy borders */
.apple-table.table-bordered,
.apple-table.table-bordered th,
.apple-table.table-bordered td {
  border: none !important;
}

/* Keep a very subtle divider between header and body when .apple-table is used */
.apple-table thead + tbody tr:first-child td {
  border-top: 1px solid rgba(15,23,42,0.06) !important;
}

/* Sticky header visual: translucent + blur for floating effect */
.apple-table thead[style],
.apple-table thead { backdrop-filter: blur(6px); }

/* --------------------------------------------------
   Fix horizontal scrolling and unify stock tables
   -------------------------------------------------- */
/* Force fixed layout for stock tables only so their small-column layout is stable */
.productos-stock-grid .table, .productos-stock-grid .table.table-sm {
  table-layout: fixed !important;
  width: 100% !important;
}

/* Hide horizontal overflow at the responsive wrapper level to avoid page scroll */
.productos-table-wrapper .table-responsive {
  /* allow local horizontal scroll when necessary but avoid forcing page scroll */
  overflow-x: auto !important;
  -webkit-overflow-scrolling: touch;
}
.productos-stock-grid .table-responsive {
  /* keep stock grids compact and avoid page-level overflow */
  overflow-x: hidden !important;
}

/* center table when it doesn't overflow to preserve visual balance */
.productos-card .table-responsive { display: block; }
.productos-card .table { margin: 0 auto; }

/* Main table: allow wrapping so the table can fit without forcing horizontal scroll. */
.productos-card .table th, .productos-card .table td {
  overflow: visible !important;
  text-overflow: unset !important;
  white-space: normal !important;
}

/* Stock-grid tables remain compact and do not wrap */
.productos-stock-grid .table th, .productos-stock-grid .table td {
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

/* Description cell keeps clamp but slightly narrower to help layout */
.productos-descripcion-cell .productos-descripcion-text,
.productos-descripcion-cell .productos-descripcion-text[title] {
  display: -webkit-box !important;
  -webkit-line-clamp: 3 !important;
  line-clamp: 3 !important;
  -webkit-box-orient: vertical !important;
  overflow: hidden !important;
  white-space: normal !important;
}

/* Override dark headers inside stock grid so they match apple-table header style */
.productos-stock-grid .table thead th,
.productos-stock-grid .table.table-sm.table-bordered thead th {
  background: linear-gradient(180deg,#ffffff,#f3f6f9) !important;
  color: #0f172a !important;
  font-weight: 700 !important;
  padding: 0.75rem 0.9rem !important;
  border-bottom: 1px solid rgba(15,23,42,0.06) !important;
}

/* Ensure small stock tables do not show inverted dark header anywhere */
.productos-stock-grid .table thead th i,
.productos-stock-grid .table thead th span {
  color: inherit !important;
}

/* If there are many sucursal columns, reduce padding slightly to fit */
.productos-card .table th, .productos-card .table td { padding: 0.55rem 0.65rem !important; }

/* --- Unificación de tipografía encabezado Apple-like (máxima especificidad) --- */
.productos-card .apple-table thead th, .productos-card .table thead th {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
  font-size: 0.85rem !important;
}
